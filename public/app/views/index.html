<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CRM - My First Fullstack App</title>

  <base href="/">

  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css">
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-animate.js"></script>
  <!-- angular controllers -->
  <script src="/app/controllers/mainCtrl.js"></script>
  <script src="/app/controllers/userCtrl.js"></script>
  <!-- angular services -->
  <script src="/app/services/authService.js"></script>
  <script src="/app/services/userService.js"></script>
  <!-- main angular files -->
  <script src="/app/app.js"></script>
  <script src="/app/app.routes.js"></script>

</head>
<body ng-app="userApp" ng-controller="mainController as main">

  <!-- NAVBAR -->
  <header>
    <div class="navbar navbar-inverse" ng-if="main.loggedIn">
      <!-- 전체를 ng-if로 감싸서 로그인 하지 않은 사용자는 내용을 볼 수 없게 했다.
      ng-if 와 ng-show/ng-hide의 차이는, ng-if를 쓰면 F12에서도 내용이 보이지 않는다는 것. -->
      <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand">
            <span class="glyphicon glyphicon-fire text-danger"></span> User CRM
          </a>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="/users"><span class="glyphicon glyphicon-user"></span> Users</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li ng-if="!main.loggedIn"><a href="/login">Login</a></li>
          <li ng-if="main.loggedIn" class="navbar-text">
            Hello {{ main.user.name }}! MEAN App: Users Management CRM
          </li>
          <li ng-if="main.loggedIn"><a href="#" ng-click="main.doLogout()">Logout</a></li>
        </ul>
      </div>
    </div>
  </header>

  <main class="container">
    {{ main.loggedIn }}
    <div ng-view></div>

  </main>
</body>
</html>
